# 实验三(2)：管道通信

实验要求：

1. 由父进程创建一个管道，再创建三个子进程，并由这三个子进程利用管道与父进程之间进行通信：子进程发送是哪个消息，父进程等三个子进程全部发完消息后再接受信息。
2. 观察进程实际读写的字节数以及进程阻塞唤醒的情况。

## 理论知识

* 管道是单向的、先进先出的，它把一个进程的输出和另一个进程的输入连接在一起。一个进程（写进程）在管道的尾部写入数据，另一个进程（读进程）从管道的头部读出数据。数据被一个进程读出后，将被从管道中删除，其它读进程将不能再读到这些数据。
* 管道提供了简单的流控制机制，进程试图读空管道时，进程将阻塞。同样，管道已经满时，进程再试图向管道写入数据，进程将阻塞。
* 管道包括无名管道和有名管道两种，前者用于父进程和子进程间的通信，后者可用于运行于同一系统中的任意两个进程间的通信。

其他的见[参考](#参考)。

## 实现思路

1. 创建三个信号量，父进程创建三个子进程。
2. 第一个子进程等待父进程释放的信号量，第二个子进程等待第一个子进程释放的信号量，第三个同理。
3. 经过测试，`waitpid`无法等待兄弟进程。

## 管道的容量

参见：

* <https://blog.csdn.net/renchunlin66/article/details/51814382>
* <https://bbs.csdn.net/topics/390990946>

## 参考

* <https://blog.csdn.net/oguro/article/details/53841949>
