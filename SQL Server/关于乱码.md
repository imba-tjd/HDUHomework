# 使用LocalDB时中文会发生乱码

0. 解决办法

```tsql
create/alter database DataBaseName
COLLATE Chinese_PRC_CI_AS
```

1. 关于model数据库的编码

> The following operations cannot be performed on the model database:
> * Changing collation. The default collation is the server collation.

[model Database](https://docs.microsoft.com/en-us/sql/relational-databases/databases/model-database)

2. 关于服务器排序规则

> Rebuild the master database specifying the new collation in the SQLCOLLATION property of the setup command.
> ```batch
>Setup /QUIET /ACTION=REBUILDDATABASE /INSTANCENAME=InstanceName
>/SQLSYSADMINACCOUNTS=accounts /[ SAPWD= StrongPassword ]
>/SQLCOLLATION=CollationName
>```

[Set or Change the Server Collation](https://docs.microsoft.com/en-us/sql/relational-databases/collations/set-or-change-the-server-collation)

3. 关于Local DB

> The instance collation for LocalDB is set to SQL_Latin1_General_CP1_CI_AS and cannot be changed.
> Database-level, column-level, and expression-level collations are supported normally.

[SQL Server 2016 Express LocalDB](https://docs.microsoft.com/en-us/sql/database-engine/configure-windows/sql-server-2016-express-localdb)

4. 关于用户数据库的排序规则

> ```tsql
>USE master;
>GO
>ALTER DATABASE MyOptionsTest
>COLLATE French_CI_AS ;
>GO
>
>--Verify the collation setting.
>SELECT name, collation_name
>FROM sys.databases
>WHERE name = N'MyOptionsTest';
>GO
>```

[Set or Change the Database Collation](https://docs.microsoft.com/en-us/sql/relational-databases/collations/set-or-change-the-database-collation)

5. 排序规则名称解释

> *CaseSensitivity*
> **CI**指定不区分大小写， **CS**指定区分大小写。
>
> *AccentSensitivity*
> **AI**指定不区分重音， **AS**指定重音。
>
> *KanatypeSensitive*
> **省略**指定假名敏感型**KS**指定区分假名的。
>
> *WidthSensitivity*
> **省略**指定宽度不区分**WS**指定区分全半角。
>
> **BIN**
> 指定使用向后兼容的二进制排序顺序。
>
> **BIN2**
> 指定使用码位比较语义的二进制排序顺序。

[Windows 排序规则名称](https://docs.microsoft.com/zh-cn/sql/t-sql/statements/windows-collation-name-transact-sql)
